<style>
  .blog-container {
    display: flex;
    flex-wrap: wrap;
    justify-content: center;
    align-items: center;
  }
  .blog-column {
    width: 100%;
    padding: 10px;
    margin-bottom: 10px;
    box-sizing: border-box;
  }
  .blog__listing--ratio {
    width: 100%;
    height: 250px;
    margin-bottom: 1em;
  }
  .blog__listing--title {
    font-size: 1.4em;
    text-decoration: none;
    font-weight: 400;
  }
  @media only screen and (min-width: 767px) {
    .blog-column {
      width: {{section.settings.blogCardDesktop}}%;
      height: 100%;
    }
  }
  @media only screen and (max-width: 767px) {
    .blog-column {
      width: {{section.settings.blogCardMobile}}%;
      height: 100%;
    }
    .padding-next_prev{
      padding: 0 12px !important;
    }
  }
  .blog-column:hover .blog__listing--image {
    transform: scale(1.15);
  }
</style>

{% paginate blog.articles by section.settings.blogCardPage %}
<div class="row article__max-width row__blog">
  {% for article in blog.articles %}
  <div class="blog-column">
    <a href="{{article.url}}" class="blog__listing--ratio">
      {% unless article.image == nil %}
      {% render 'ratio-image', ratioType: 'vw', dratio: '100', mratio: '100', image: article.image.src, alt: article.image.alt, class: 'blog__listing--image' %}
      {% else %}
      {% assign imagesrc = 'no-blog-image.png' %}
      {% render 'ratio-image-asset', ratioType: 'vw', dratio: '100', mratio: '100', image: imagesrc, class: 'blog__listing--image' %}
      {% endunless %}
    </a>
    <div class="blog__listing--tags">
      {% for tag in article.tags %}
      <span class="blog__listing--tag">{{tag | upcase}}</span>
      {% endfor %}
    </div>
    <a class="blog__listing--title" href="{{article.url}}">{{ article.title }}</a>
    <p class="p-reset blog__listing--excerpt">
      {{article.excerpt | default: article.content | strip_html | truncate: 100 }}
    </p>
    <div class="blog__listing--button">
      {% render 'button', type: 'primary', url: article.url, text: 'Read more' %}
    </div>
  </div>
  {% endfor %}
  {% render 'pagination', paginate: paginate, type: 'links' %}
</div>
{% endpaginate %}

{% style %}
.blog-list-container {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 20px;
}
.blog-item {
  background-color: #f4f4f4;
  padding: 20px;
  border-radius: 8px;
  box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}
.blog-title {
  font-size: 1.2rem;
  font-weight: bold;
  margin-bottom: 10px;
}
.blog-content {
  font-size: 1rem;
  line-height: 1.5;
}
{% endstyle %}

{% schema %}
{
  "name": "Blog",
  "settings": [
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "range",
      "id": "blogCardPage",
      "label": "How many cards per page",
      "default": 10,
      "min": 1,
      "max": 20,
      "step": 1
    },
    {
      "type": "select",
      "id": "blogCardDesktop",
      "label": "How many cards per row (Desktop)",
      "options": [
        {"value": "100", "label": "1"},
        {"value": "50", "label": "2"},
        {"value": "33", "label": "3"}
      ],
      "default": "100"
    },
    {
      "type": "select",
      "id": "blogCardMobile",
      "label": "How many cards per row (Mobile)",
      "options": [
        {"value": "100", "label": "1"},
        {"value": "50", "label": "2"}
      ],
      "default": "100"
    }
  ]
}
{% endschema %}
